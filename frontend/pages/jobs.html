<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>채용정보 - Feeling Good</title>
  <link rel="stylesheet" href="../css/common.css">
  <link rel="stylesheet" href="../css/jobs.css">
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>

<body>
  <header class="header">
    <div class="header-main">
      <div class="logo">
        <i class="fas fa-briefcase"></i>
        <span>Feeling Good</span>
      </div>
      <nav class="nav-menu">
        <a href="community.html" class="nav-link">
          <i class="fas fa-users"></i> <span data-translate="커뮤니티">커뮤니티</span>
        </a>
        <a href="jobs.html" class="nav-link active">
          <i class="fas fa-search"></i> <span data-translate="채용정보">채용정보</span>
        </a>
        <a href="mypage.html" class="nav-link">
          <i class="fas fa-user"></i> <span data-translate="마이페이지">마이페이지</span>
        </a>
      </nav>
      <div class="header-buttons">
        <a href="#" id="languageSelector" class="language-btn"><i class="fas fa-globe"></i> <span
            data-translate="Language">Language</span></a>
        <a href="#" onclick="logout()" class="logout-btn" data-translate="로그아웃">로그아웃</a>
      </div>
    </div>

    <!-- 필터 섹션을 헤더 내부로 이동 -->
    <div class="filter-section">
      <div class="filter-content">
        <div class="filter-group">
          <button class="filter-button active" data-filter="all">
            <i class="fas fa-th"></i> <span data-translate="전체">전체</span>
          </button>
          <button class="filter-button" data-filter="it">
            <i class="fas fa-code"></i> <span data-translate="IT개발">IT개발</span>
          </button>
          <button class="filter-button" data-filter="education">
            <i class="fas fa-graduation-cap"></i> <span data-translate="교육">교육</span>
          </button>
          <button class="filter-button" data-filter="trade">
            <i class="fas fa-briefcase"></i> <span data-translate="무역사무">무역사무</span>
          </button>
          <button class="filter-button" data-filter="service">
            <i class="fas fa-handshake"></i> <span data-translate="서비스">서비스</span>
          </button>
          <button class="filter-button" data-filter="manufacture">
            <i class="fas fa-industry"></i> <span data-translate="제조업">제조업</span>
          </button>
          <button class="filter-button" data-filter="design">
            <i class="fas fa-palette"></i> <span data-translate="기타">기타</span>
          </button>
        </div>
        <button class="advanced-filter-toggle">
          <i class="fas fa-sliders-h"></i> <span data-translate="상세 검색">상세 검색</span>
        </button>
      </div>
      <div class="advanced-filters">
        <div class="advanced-filter-content">
          <div class="filter-column">
            <h4 data-translate="고용형태">고용형태</h4>
            <div class="checkbox-group">
              <label><input type="checkbox" name="employment" value="정규직"> <span data-translate="정규직">정규직</span></label>
              <label><input type="checkbox" name="employment" value="계약직"> <span data-translate="계약직">계약직</span></label>
              <label><input type="checkbox" name="employment" value="파견직"> <span data-translate="파견직">파견직</span></label>
              <label><input type="checkbox" name="employment" value="인턴"> <span data-translate="인턴">인턴</span></label>
            </div>
          </div>
          <div class="filter-column">
            <h4 data-translate="급여">급여</h4>
            <div class="checkbox-group">
              <label><input type="checkbox" name="salary" value="2000-3000"> <span
                  data-translate="2,000~3,000만원">2,000~3,000만원</span></label>
              <label><input type="checkbox" name="salary" value="3000-4000"> <span
                  data-translate="3,000~4,000만원">3,000~4,000만원</span></label>
              <label><input type="checkbox" name="salary" value="4000-5000"> <span
                  data-translate="4,000~5,000만원">4,000~5,000만원</span></label>
              <label><input type="checkbox" name="salary" value="5000+"> <span data-translate="5,000만원 이상">5,000만원
                  이상</span></label>
            </div>
          </div>
          <div class="filter-column">
            <h4 data-translate="비자종류">비자종류</h4>
            <div class="checkbox-group">
              <label><input type="checkbox" name="visa" value="E-7"> <span data-translate="E-7 (특정활동)">E-7
                  (특정활동)</span></label>
              <label><input type="checkbox" name="visa" value="E-9"> <span data-translate="E-9 (비전문취업)">E-9
                  (비전문취업)</span></label>
              <label><input type="checkbox" name="visa" value="E-2"> <span data-translate="E-2 (회화지도)">E-2
                  (회화지도)</span></label>
              <label><input type="checkbox" name="visa" value="F-2"> <span data-translate="F-2 (거주)">F-2
                  (거주)</span></label>
              <label><input type="checkbox" name="visa" value="F-4"> <span data-translate="F-4 (재외동포)">F-4
                  (재외동포)</span></label>
              <label><input type="checkbox" name="visa" value="F-6"> <span data-translate="F-6 (결혼이민)">F-6
                  (결혼이민)</span></label>
            </div>
          </div>
          <div class="filter-column">
            <h4 data-translate="언어수준">언어수준</h4>
            <div class="language-section">
              <div class="language-row">
                <span data-translate="한국어">한국어</span>
                <select name="korean-level">
                  <option value="" data-translate="무관">무관</option>
                  <option value="basic" data-translate="기초">기초</option>
                  <option value="intermediate" data-translate="중급">중급</option>
                  <option value="advanced" data-translate="고급">고급</option>
                  <option value="native" data-translate="원어민">원어민</option>
                </select>
              </div>
              <div class="language-row">
                <span data-translate="영어">영어</span>
                <select name="english-level">
                  <option value="" data-translate="무관">무관</option>
                  <option value="basic" data-translate="기초">기초</option>
                  <option value="intermediate" data-translate="중급">중급</option>
                  <option value="advanced" data-translate="고급">고급</option>
                  <option value="native" data-translate="원어민">원어민</option>
                </select>
              </div>
            </div>
          </div>
        </div>
        <div class="filter-actions">
          <button class="btn btn-outline" onclick="resetFilters()">
            <span data-translate="초기화">초기화</span>
          </button>
          <button class="btn btn-primary" onclick="applyFilters()">
            <span data-translate="적용하기">적용하기</span>
          </button>
        </div>
      </div>
    </div>
  </header>

  <div class="main-content">
    <div class="jobs-container">
      <!-- 검색 바 추가 (커뮤니티 스타일) -->
      <div class="search-bar">
        <div class="search-input-group">
          <select id="searchType" class="search-select">
            <option value="title" data-translate="직무명">직무명</option>
            <option value="company" data-translate="회사명">회사명</option>
            <option value="location" data-translate="지역">지역</option>
            <option value="all" data-translate="전체">전체</option>
          </select>
          <input type="text" id="searchInput" placeholder="검색어를 입력하세요..." data-translate-placeholder="검색어를 입력하세요..."
            onkeypress="handleSearchEnter(event)">
          <button class="search-btn" onclick="searchJobs()">
            <i class="fas fa-search"></i>
          </button>
        </div>
      </div>

      <!-- 채용공고 목록 헤더 -->
      <div class="jobs-header">
        <div class="jobs-count">
          <span data-translate="총">총</span> <span id="jobsCount">0</span><span data-translate="개의 채용공고">개의 채용공고</span>
        </div>
        <div class="sort-options">
          <select id="sortType" onchange="sortJobs(this.value)">
            <option value="latest" data-translate="최신순">최신순</option>
            <option value="deadline" data-translate="마감순">마감순</option>
            <option value="salary" data-translate="급여순">급여순</option>
          </select>
        </div>
      </div>

      <!-- 채용공고 목록 (커뮤니티 스타일의 리스트) -->
      <div class="jobs-list" id="jobsList">
        <!-- 채용공고 목록이 여기에 동적으로 생성됩니다 -->
      </div>

      <!-- 페이지네이션 -->
      <div class="pagination" id="pagination">
        <!-- 페이지 번호가 여기에 동적으로 생성됩니다 -->
      </div>
    </div>
  </div>

  <!-- 플로팅 채용공고 등록 버튼 -->
  <button class="floating-btn" onclick="openAddJobModal()" title="새 채용공고 등록">
    <i class="fas fa-plus"></i>
  </button>

  <!-- 채용공고 등록 모달 -->
  <div id="addJobModal" class="modal" style="display: none;">
    <div class="modal-content">
      <div class="modal-header">
        <h2><i class="fas fa-plus"></i> 새 채용공고 등록</h2>
        <span class="close" onclick="closeAddJobModal()">&times;</span>
      </div>
      <form id="addJobForm" class="modal-form">
        <div class="form-row">
          <div class="form-group">
            <label for="jobTitle">직무명 *</label>
            <input type="text" id="jobTitle" name="title" required placeholder="예: 프론트엔드 개발자"
              data-translate-placeholder="예: 프론트엔드 개발자">
          </div>
          <div class="form-group">
            <label for="companyName">회사명 *</label>
            <input type="text" id="companyName" name="company" required>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="jobLocation">지역 *</label>
            <select id="jobLocation" name="location" required>
              <option value="">선택하세요</option>
              <option value="서울">서울</option>
              <option value="경기">경기</option>
              <option value="인천">인천</option>
              <option value="부산">부산</option>
              <option value="대구">대구</option>
              <option value="광주">광주</option>
              <option value="대전">대전</option>
              <option value="울산">울산</option>
              <option value="기타">기타</option>
            </select>
          </div>
          <div class="form-group">
            <label for="jobCategory">직무 카테고리 *</label>
            <select id="jobCategory" name="category" required>
              <option value="">선택하세요</option>
              <option value="it">IT개발</option>
              <option value="education">교육</option>
              <option value="trade">무역사무</option>
              <option value="service">서비스</option>
              <option value="manufacture">제조업</option>
              <option value="design">기타</option>
            </select>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="employment">고용형태 *</label>
            <select id="employment" name="employment" required>
              <option value="">선택하세요</option>
              <option value="정규직">정규직</option>
              <option value="계약직">계약직</option>
              <option value="파견직">파견직</option>
              <option value="인턴">인턴</option>
            </select>
          </div>
          <div class="form-group">
            <label for="salary">급여 *</label>
            <select id="salary" name="salary" required>
              <option value="">선택하세요</option>
              <option value="2000-3000">2,000~3,000만원</option>
              <option value="3000-4000">3,000~4,000만원</option>
              <option value="4000-5000">4,000~5,000만원</option>
              <option value="5000+">5,000만원 이상</option>
            </select>
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="deadline">지원 마감일 *</label>
            <input type="date" id="deadline" name="deadline" required>
          </div>
          <div class="form-group">
            <label for="logoUrl">로고 URL</label>
            <input type="url" id="logoUrl" name="logo" placeholder="https://example.com/logo.png"
              data-translate-placeholder="https://example.com/logo.png">
          </div>
        </div>

        <div class="form-group full-width">
          <label for="jobDescription">상세 설명 *</label>
          <textarea id="jobDescription" name="description" rows="5" required
            placeholder="채용공고에 대한 상세 설명을 입력하세요..."></textarea>
        </div>

        <div class="modal-actions">
          <button type="button" class="btn btn-outline" onclick="closeAddJobModal()">취소</button>
          <button type="submit" class="btn btn-primary">
            <i class="fas fa-paper-plane"></i> 채용공고 등록
          </button>
        </div>
      </form>
    </div>
  </div>

  <script src="../js/translate.js"></script>
  <script src="../js/jobs.js"></script>
  <script>
    // 페이지 로드 시 언어 선택 기능 연결
    document.addEventListener('DOMContentLoaded', () => {
      const languageButton = document.getElementById('languageSelector');
      if (languageButton) {
        window.translator.attachLanguageSelector(languageButton);
      }
    });
  </script>
</body>

</html>