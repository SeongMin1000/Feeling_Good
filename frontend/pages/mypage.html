<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>마이페이지 - Feeling Good</title>
    <link rel="stylesheet" href="../css/common.css">
    <link rel="stylesheet" href="../css/mypage.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>

<body>
    <!-- 헤더 -->
    <header class="header">
        <div class="header-main">
            <div class="logo">
                <i class="fas fa-briefcase"></i>
                <span>Feeling Good</span>
            </div>
            <nav class="nav-menu">
                <a href="community.html" class="nav-link">
                    <i class="fas fa-users"></i> <span data-translate="커뮤니티">커뮤니티</span>
                </a>
                <a href="jobs.html" class="nav-link">
                    <i class="fas fa-search"></i> <span data-translate="채용정보">채용정보</span>
                </a>
                <a href="mypage.html" class="nav-link active">
                    <i class="fas fa-user"></i> <span data-translate="마이페이지">마이페이지</span>
                </a>
            </nav>
            <div class="header-buttons">
                <a href="#" id="languageSelector" class="language-btn">
                    <i class="fas fa-globe"></i> <span data-translate="Language">Language</span>
                </a>
                <a href="#" onclick="logout()" class="logout-btn" data-translate="로그아웃">로그아웃</a>
            </div>
        </div>

        <!-- 탭 네비게이션 -->
        <div class="tab-section">
            <div class="tab-content">
                <div class="tab-group">
                    <button class="tab-button active" data-tab="profile" onclick="switchTab('profile')">
                        <i class="fas fa-user"></i> <span data-translate="프로필">프로필</span>
                    </button>
                    <button class="tab-button" data-tab="favorites" onclick="switchTab('favorites')">
                        <i class="fas fa-heart"></i> <span data-translate="관심 채용공고">관심 채용공고</span>
                    </button>
                    <button class="tab-button" data-tab="applications" onclick="switchTab('applications')">
                        <i class="fas fa-file-alt"></i> <span data-translate="지원 현황">지원 현황</span>
                    </button>
                    <button class="tab-button" data-tab="settings" onclick="switchTab('settings')">
                        <i class="fas fa-cog"></i> <span data-translate="설정">설정</span>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- 메인 콘텐츠 -->
    <div class="main-content">
        <div class="mypage-container">

            <!-- 프로필 탭 -->
            <div id="profile-tab" class="tab-content-section active">
                <div class="profile-header">
                    <div class="profile-avatar">
                        <i class="fas fa-user-circle"></i>
                    </div>
                    <div class="profile-info">
                        <h2 id="username-display">사용자명</h2>
                        <p id="email-display">이메일</p>
                        <span class="profile-status" data-translate="활성">활성</span>
                    </div>
                    <button class="btn btn-outline" onclick="editProfile()">
                        <i class="fas fa-edit"></i> <span data-translate="프로필 수정">프로필 수정</span>
                    </button>
                </div>

                <div class="profile-sections">
                    <!-- 기본 정보 카드 -->
                    <div class="info-card">
                        <div class="card-header">
                            <h3><i class="fas fa-user"></i> <span data-translate="기본 정보">기본 정보</span></h3>
                        </div>
                        <div class="card-content">
                            <div class="info-grid">
                                <div class="info-item">
                                    <span class="info-label" data-translate="이름/닉네임">이름/닉네임</span>
                                    <span class="info-value" id="username"></span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label" data-translate="나이">나이</span>
                                    <span class="info-value" id="age"></span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label" data-translate="성별">성별</span>
                                    <span class="info-value" id="gender"></span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label" data-translate="전화번호">전화번호</span>
                                    <span class="info-value" id="phone"></span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 체류 정보 카드 -->
                    <div class="info-card">
                        <div class="card-header">
                            <h3><i class="fas fa-passport"></i> <span data-translate="체류 정보">체류 정보</span></h3>
                        </div>
                        <div class="card-content">
                            <div class="info-grid">
                                <div class="info-item">
                                    <span class="info-label" data-translate="국적">국적</span>
                                    <span class="info-value" id="nationality"></span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label" data-translate="비자 종류">비자 종류</span>
                                    <span class="info-value" id="visaType"></span>
                                </div>
                                <div class="info-item full-width">
                                    <span class="info-label" data-translate="비자 만료일">비자 만료일</span>
                                    <span class="info-value" id="visaExpiry"></span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 거주/근무 조건 카드 -->
                    <div class="info-card">
                        <div class="card-header">
                            <h3><i class="fas fa-map-marker-alt"></i> <span data-translate="거주/근무 조건">거주/근무 조건</span>
                            </h3>
                        </div>
                        <div class="card-content">
                            <div class="info-grid">
                                <div class="info-item">
                                    <span class="info-label" data-translate="현재 거주 지역">현재 거주 지역</span>
                                    <span class="info-value" id="currentLocation"></span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label" data-translate="희망 근무형태">희망 근무형태</span>
                                    <span class="info-value" id="workType"></span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 언어/직무 정보 카드 -->
                    <div class="info-card">
                        <div class="card-header">
                            <h3><i class="fas fa-language"></i> <span data-translate="언어 & 직무 정보">언어 & 직무 정보</span></h3>
                        </div>
                        <div class="card-content">
                            <div class="info-grid">
                                <div class="info-item">
                                    <span class="info-label" data-translate="선호 UI 언어">선호 UI 언어</span>
                                    <span class="info-value" id="preferredLanguage"></span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label" data-translate="한국어 능력">한국어 능력</span>
                                    <span class="info-value" id="koreanLevel"></span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label" data-translate="희망 직종/산업군">희망 직종/산업군</span>
                                    <span class="info-value" id="desiredIndustry"></span>
                                </div>
                                <div class="info-item">
                                    <span class="info-label" data-translate="직무 경력">직무 경력</span>
                                    <span class="info-value" id="workExperience"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 관심 채용공고 탭 -->
            <div id="favorites-tab" class="tab-content-section">
                <div class="section-header">
                    <h2><i class="fas fa-heart"></i> <span data-translate="관심 등록한 채용공고">관심 등록한 채용공고</span></h2>
                    <span class="count-badge" id="favoritesCount">0</span>
                </div>
                <div class="favorites-container">
                    <div id="favoritesList" class="favorites-list">
                        <!-- 관심 채용공고 목록이 여기에 동적으로 생성됩니다 -->
                    </div>
                    <div id="noFavorites" class="empty-state" style="display: none;">
                        <i class="fas fa-heart-broken"></i>
                        <h3 data-translate="관심 등록한 채용공고가 없습니다">관심 등록한 채용공고가 없습니다</h3>
                        <p data-translate="채용정보 페이지에서 마음에 드는 공고에 하트를 눌러보세요!">채용정보 페이지에서 마음에 드는 공고에 하트를 눌러보세요!</p>
                        <a href="jobs.html" class="btn btn-primary">
                            <i class="fas fa-search"></i> <span data-translate="채용정보 보러가기">채용정보 보러가기</span>
                        </a>
                    </div>
                </div>
            </div>

            <!-- 지원 현황 탭 -->
            <div id="applications-tab" class="tab-content-section">
                <div class="section-header">
                    <h2><i class="fas fa-file-alt"></i> <span data-translate="지원 현황">지원 현황</span></h2>
                </div>
                <div class="applications-container">
                    <div class="empty-state">
                        <i class="fas fa-clipboard-list"></i>
                        <h3 data-translate="지원한 채용공고가 없습니다">지원한 채용공고가 없습니다</h3>
                        <p data-translate="관심 있는 채용공고에 지원해보세요!">관심 있는 채용공고에 지원해보세요!</p>
                    </div>
                </div>
            </div>

            <!-- 설정 탭 -->
            <div id="settings-tab" class="tab-content-section">
                <div class="section-header">
                    <h2><i class="fas fa-cog"></i> <span data-translate="계정 설정">계정 설정</span></h2>
                </div>
                <div class="settings-container">
                    <div class="settings-card">
                        <div class="card-header">
                            <h3><i class="fas fa-bell"></i> <span data-translate="알림 설정">알림 설정</span></h3>
                        </div>
                        <div class="card-content">
                            <div class="setting-item">
                                <div class="setting-info">
                                    <span class="setting-name" data-translate="새로운 채용공고 알림">새로운 채용공고 알림</span>
                                    <span class="setting-desc" data-translate="관심 분야의 새로운 채용공고를 알려드립니다">관심 분야의 새로운 채용공고를
                                        알려드립니다</span>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" checked>
                                    <span class="slider"></span>
                                </label>
                            </div>
                            <div class="setting-item">
                                <div class="setting-info">
                                    <span class="setting-name" data-translate="커뮤니티 알림">커뮤니티 알림</span>
                                    <span class="setting-desc" data-translate="댓글, 좋아요 등의 활동을 알려드립니다">댓글, 좋아요 등의 활동을
                                        알려드립니다</span>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox">
                                    <span class="slider"></span>
                                </label>
                            </div>
                        </div>
                    </div>

                    <div class="settings-card">
                        <div class="card-header">
                            <h3><i class="fas fa-shield-alt"></i> <span data-translate="계정 보안">계정 보안</span></h3>
                        </div>
                        <div class="card-content">
                            <button class="btn btn-outline setting-btn">
                                <i class="fas fa-key"></i> <span data-translate="비밀번호 변경">비밀번호 변경</span>
                            </button>
                            <button class="btn btn-outline setting-btn">
                                <i class="fas fa-trash-alt"></i> <span data-translate="계정 삭제">계정 삭제</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 프로필 편집 모달 -->
    <div id="editProfileModal" class="modal" style="display: none;">
        <div class="modal-content edit-profile-modal">
            <div class="modal-header">
                <h2><i class="fas fa-edit"></i> <span data-translate="프로필 수정">프로필 수정</span></h2>
                <span class="close" onclick="closeEditModal()">&times;</span>
            </div>
            <form id="editProfileForm" class="edit-profile-form">
                <!-- 기본 정보 섹션 -->
                <div class="form-section">
                    <h3><i class="fas fa-user"></i> <span data-translate="기본 정보">기본 정보</span></h3>
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="editUsername" data-translate="이름/닉네임">이름/닉네임</label>
                            <input type="text" id="editUsername" name="username" required>
                        </div>
                        <div class="form-group">
                            <label for="editAge" data-translate="나이">나이</label>
                            <input type="number" id="editAge" name="age" min="18" max="100">
                        </div>
                        <div class="form-group">
                            <label for="editGender" data-translate="성별">성별</label>
                            <select id="editGender" name="gender">
                                <option value="">선택하세요</option>
                                <option value="남성" data-translate="남성">남성</option>
                                <option value="여성" data-translate="여성">여성</option>
                                <option value="기타" data-translate="기타">기타</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="editPhone" data-translate="전화번호">전화번호</label>
                            <input type="tel" id="editPhone" name="phone" placeholder="010-0000-0000">
                        </div>
                    </div>
                </div>

                <!-- 체류 정보 섹션 -->
                <div class="form-section">
                    <h3><i class="fas fa-passport"></i> <span data-translate="체류 정보">체류 정보</span></h3>
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="editNationality" data-translate="국적">국적</label>
                            <select id="editNationality" name="nationality">
                                <option value="">선택하세요</option>
                                <option value="베트남" data-translate="베트남">베트남</option>
                                <option value="중국" data-translate="중국">중국</option>
                                <option value="필리핀" data-translate="필리핀">필리핀</option>
                                <option value="태국" data-translate="태국">태국</option>
                                <option value="우즈베키스탄" data-translate="우즈베키스탄">우즈베키스탄</option>
                                <option value="기타" data-translate="기타">기타</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="editVisaType" data-translate="비자 종류">비자 종류</label>
                            <select id="editVisaType" name="visaType">
                                <option value="">선택하세요</option>
                                <option value="E-9" data-translate="E-9 (비전문취업)">E-9 (비전문취업)</option>
                                <option value="D-4" data-translate="D-4 (일반연수)">D-4 (일반연수)</option>
                                <option value="F-2" data-translate="F-2 (거주)">F-2 (거주)</option>
                                <option value="F-4" data-translate="F-4 (재외동포)">F-4 (재외동포)</option>
                                <option value="F-6" data-translate="F-6 (결혼이민)">F-6 (결혼이민)</option>
                                <option value="H-2" data-translate="H-2 (방문취업)">H-2 (방문취업)</option>
                                <option value="기타" data-translate="기타">기타</option>
                            </select>
                        </div>
                        <div class="form-group full-width">
                            <label for="editVisaExpiry" data-translate="비자 만료일">비자 만료일</label>
                            <input type="date" id="editVisaExpiry" name="visaExpiry">
                        </div>
                    </div>
                </div>

                <!-- 거주/근무 조건 섹션 -->
                <div class="form-section">
                    <h3><i class="fas fa-map-marker-alt"></i> <span data-translate="거주/근무 조건">거주/근무 조건</span></h3>
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="editCurrentLocation" data-translate="현재 거주 지역">현재 거주 지역</label>
                            <select id="editCurrentLocation" name="currentLocation">
                                <option value="">선택하세요</option>
                                <option value="서울" data-translate="서울">서울</option>
                                <option value="경기" data-translate="경기">경기</option>
                                <option value="인천" data-translate="인천">인천</option>
                                <option value="부산" data-translate="부산">부산</option>
                                <option value="대구" data-translate="대구">대구</option>
                                <option value="광주" data-translate="광주">광주</option>
                                <option value="대전" data-translate="대전">대전</option>
                                <option value="울산" data-translate="울산">울산</option>
                                <option value="기타" data-translate="기타">기타</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="editWorkType" data-translate="희망 근무형태">희망 근무형태</label>
                            <select id="editWorkType" name="workType">
                                <option value="">선택하세요</option>
                                <option value="풀타임" data-translate="풀타임">풀타임</option>
                                <option value="파트타임" data-translate="파트타임">파트타임</option>
                                <option value="교대근무" data-translate="교대근무">교대근무</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- 언어/직무 정보 섹션 -->
                <div class="form-section">
                    <h3><i class="fas fa-language"></i> <span data-translate="언어 & 직무 정보">언어 & 직무 정보</span></h3>
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="editPreferredLanguage" data-translate="선호 UI 언어">선호 UI 언어</label>
                            <select id="editPreferredLanguage" name="preferredLanguage">
                                <option value="">선택하세요</option>
                                <option value="한국어" data-translate="한국어">한국어</option>
                                <option value="영어" data-translate="영어">영어</option>
                                <option value="베트남어" data-translate="베트남어">베트남어</option>
                                <option value="중국어" data-translate="중국어">중국어</option>
                                <option value="우즈베크어" data-translate="우즈베크어">우즈베크어</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="editKoreanLevel" data-translate="한국어 능력">한국어 능력</label>
                            <select id="editKoreanLevel" name="koreanLevel">
                                <option value="">선택하세요</option>
                                <option value="상" data-translate="상">상</option>
                                <option value="중" data-translate="중">중</option>
                                <option value="하" data-translate="하">하</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="editDesiredIndustry" data-translate="희망 직종/산업군">희망 직종/산업군</label>
                            <select id="editDesiredIndustry" name="desiredIndustry">
                                <option value="">선택하세요</option>
                                <option value="제조업" data-translate="제조업">제조업</option>
                                <option value="건설업" data-translate="건설업">건설업</option>
                                <option value="농축산업" data-translate="농축산업">농축산업</option>
                                <option value="어업" data-translate="어업">어업</option>
                                <option value="서비스업" data-translate="서비스업">서비스업</option>
                                <option value="기타" data-translate="기타">기타</option>
                            </select>
                        </div>
                        <div class="form-group full-width">
                            <label for="editWorkExperience" data-translate="직무 경력">직무 경력</label>
                            <textarea id="editWorkExperience" name="workExperience" rows="3"
                                placeholder="직무 경력을 자세히 입력해주세요"
                                data-translate-placeholder="직무 경력을 자세히 입력해주세요"></textarea>
                        </div>
                    </div>
                </div>

                <div class="modal-actions">
                    <button type="button" class="btn btn-outline" onclick="closeEditModal()">
                        <span data-translate="취소">취소</span>
                    </button>
                    <button type="submit" class="btn btn-primary">
                        <i class="fas fa-save"></i> <span data-translate="저장">저장</span>
                    </button>
                </div>
            </form>
        </div>
    </div>

    <script src="../js/common.js"></script>
    <script src="../js/translate.js"></script>
    <script src="../js/mypage.js"></script>
    <script>
        // 페이지 로드 시 언어 선택 기능 연결
        document.addEventListener('DOMContentLoaded', () => {
            const languageButton = document.getElementById('languageSelector');
            if (languageButton) {
                window.translator.attachLanguageSelector(languageButton);
            }
        });
    </script>
</body>

</html>